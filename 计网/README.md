* “王道”指王道2020计网复习指导
* “课本”指《xxx》

## 计算机网络体系结构

### 概述

计算机网络的概念：
* 资源共享的观点：认为第一目的是资源共享

计算机网络的组成：
* 从组成部分上看：由硬件，软件和协议组成
* 从工作方式上看：分为边缘部分和核心部分。边缘部分指主机，核心部分是网络和路由器
* 从功能组成上看：通信子网和资源子网。通信子网由介质、设备和协议组成，资源子网由实现资源共享的设备和软件组成

计算机网络的功能：计算机网络最基本最重要的功能是**数据通信**。

计算机网络的分类：
* 按分布范围分类：
  * WAN广域网：因特网的核心部分，提供长距离通信。
  * MAN城域网：范围顾名思义，大多采用以太网技术，因此一般并入局域网范围讨论
  * LAN局域网：覆盖范围几十米到几千米。
  * PAN个人区域网：覆盖直径10m
  * **传统上，局域网使用广播技术，而广域网使用交换技术**。
* 按拓扑结构分类（拓扑结构一般指通信子网的拓扑结构）：
  * 星形：每个终端以单独的线路与中央设备相连。
  * 总线性：用单根传输线连接所有终端。
  * 环形：所有终端连成一个环。
  * 网状形：每个结点至少有两条路径与其它结点相连。
  * 前三种多用于局域网，网状形多用于广域网。
* 按交换技术分类：
  * 电路交换
  * 报文交换：也叫存储-转发网络，报文大小不确定
  * 分组交换/包交换：包大小固定，以存储-转法方式传输。相比于报文交换，缓冲区更好管理，现在基本都用分组交换。

性能指标：
* Speed速率：信道上传输数据的速率，也叫数据率/比特率，单位是b/s。
* Bandwidth带宽：信道的最高速率，单位是b/s。
* **Transmission Delay传输延迟/发送时延**：将所有比特推向链路的时间，等于`分组长度 / 信道宽度`。
* **Propagation Delay传播延迟**：电磁波在信道中传播一定距离的时间，等于`信道长度 / 电磁波在信道上的传输速率`。
* Process Delay处理延迟：数据在交换结点进行必要操作花费的时间，比如分析首部、差错校验、查找路由等。
* Queuing Delay排队延迟：**分组**进入路由器后在等待队列等待的时间，以及在路由器输出队列等待转发的时间。
* 数据在网络中经历的总时延 = 以上四个时延之和。
* Round Trip Time(RTT)往返时延：从发送数据开始，到收到来自接收端的确认信息的时间。

**高速链路提高的只是数据发送速率而不是传播速率，因此只减少了发送时延**。

### 体系结构

体系结构是计算机网络的各层及其协议的集合。关注抽象概念，不关注具体实现。

分层结构：
* 分层结构最低层为第一层，即物理层。
* 每一层向上层提供服务，并调用下一层提供的服务。
* SDU服务数据单元是一层中传送的数据，加上PCI协议控制信息，即控制头，组成这一层的PDU协议数据单元。
* 上一层的PDU作为下层的SDU，加上该层的PCI成为该层的PDU。
* 物理层的PDU称为**比特**，链路层PDU称为**frame帧**，网络层PDU称为**datagram分组/数据报**，传输层PDU称为**segment报文/用户数据报**，应用层PDU称为**message消息**。

网络协议：为进行数据交换建立的规则集合。协议只规定于对等实体之间，即同一层的实体间。

接口：相邻两层交换信息的连接点。比如相邻实体通过SAP服务访问点交互，SAP就是一种逻辑接口。

计算机网络提供的服务可按三种方式分类：
* **面向连接服务和无连接服务**
  * 面向连接的服务：双方通信前必须先建立连接和分配资源，通信结束后必须释放连接和资源。通常有连接建立 - 数据传输 - 连接释放三个阶段。
  * 无连接服务：通信双方不需要先建立连接，这是一种**不可靠**服务，提供Best effort delivery最大努力交付。
* **可靠服务和不可靠服务**：
  * 可靠服务：网络具有纠错、检错、应答机制，能保证数据正确、可靠地到达目的地。
  * 不可靠服务：网络尽量正确、可靠地传送，不做任何保证。
* 有应答服务和无应答服务

#### OSI参考模型

开放系统互连参考模型（OSI/RM），简称OSI参考模型。共7层，低三层为通信子网，高三层为资源子网。

* Physical Layer物理层：在物理媒体上透明地传输原始比特流，主要规定数据终端和数据通信设备的物理与逻辑连接方法，因此**物理层协议**也叫**物理层接口标准**。物理层的内容：
  * 规定电路接口的参数，比如电脑网线接口的参数。
  * 规定通信链路上传输的信号的意义和电器特征，比如规定0和1代表的信号是什么。
  * 但是传输用到的物理媒体，比如双绞线、光缆、无线信道等，不属于物理层而在物理层之下，可以称为第0层物理媒体层。
* Data Link Layer数据链路层：组装帧、差错控制、流量控制、传输管理。
* Network Layer网络层：控制通信子网的运行，包括分组路由选择、差错控制、流量控制、拥塞控制、网际互连。提供点到点通信。
* Transport Layer传输层：为端到端连接提供可靠的传输服务，包括差错控制、流量控制、服务质量、数据传输管理。提供端到端通信。
* Session Layer会话层：为表示层实体或用户进程建立连接并在连接上有序地传输数据，即进行会话。会话层可以建立、管理及终止会话，还可以使用校验点在通信失效时恢复通信。
* Presentation Layer表示层：处理交换的信息的表示方式。定义数据结构，选用编码方式，还可以提供数据压缩、解密加密等功能。
* Application Layer应用层：与用户交互。

#### TCP/IP模型

TCP/IP模型是广泛应用的标准，是事实上的国际标准。

* 网络接口层：对应OSI的物理层和数据链路层。
* 网际层：与OSI网络层类似。
* 传输层：与OSI传输层类似。
* 应用层：所有高层协议。

王道p19图：TCP/IP模型以IP作为核心协议，提供everything over IP的服务，以及IP over everything的在IP协议各种网络上运行。

TCP/IP与OSI参考模型的比较：王道p19，OSI参考模型的网络层支持面向连接和无连接的通信，但传输层只有面向连接的通信；TCP/IP模型的网络层只有无连接的通信，但传输层支持面向连接和无连接通信。

学习时采用折中的观点，学习五层结构。

## 物理层

## 链路层

## 网络层

## 传输层

## 应用层

